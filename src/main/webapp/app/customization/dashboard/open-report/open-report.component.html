<mat-card class="container">
    <mat-card-header>
        <mat-card-title>Weekly Open Plant Faults Report</mat-card-title>
        <mat-card-subtitle>
            <p>Count of plant faults and weekly activities</p>
            <p>Open Faults include all faults with status of OPEN, IN_PROGRESS, ON_HOLD and COMPLETED. Oldest open fault is the oldest plant fault with no date closed or date closed after the end of the week.</p>
        </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content >
        <mat-table #table [dataSource]="dataSource" matSort matSortActive="date" matSortDirection="desc">
            <ng-container matColumnDef="date">
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Week Ending On </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.date | date:'dd-MM-yyyy'}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="total" >
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Total Open Faults</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.total != -1 ? element.total : 'Data Not Available'}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="closed">
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Closed </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.closed}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="opened">
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Opened </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.opened }} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="ageOfOldest">
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Age of oldest open fault  </mat-header-cell>
                <mat-cell *matCellDef="let element">  {{element.ageOfOldest != -1 ? element.ageOfOldest + ' days' : 'Data Not Available'}}
                    </mat-cell>
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
    </mat-card-content>
</mat-card>
